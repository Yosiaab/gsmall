jQuery(function(s){if("undefined"==typeof wc_single_product_params)return!1;s("body").on("init",".wc-tabs-wrapper, .woocommerce-tabs",function(){s(".wc-tab, .woocommerce-tabs .panel:not(.panel .panel)").hide();var e=window.location.hash,t=window.location.href,i=s(this).find(".wc-tabs, ul.tabs").first();(0<=e.toLowerCase().indexOf("comment-")||"#reviews"===e||"#tab-reviews"===e||0<t.indexOf("comment-page-")||0<t.indexOf("cpage=")?i.find("li.reviews_tab a"):i.find("li:first a")).click()}).on("click",".wc-tabs li a, ul.tabs li a",function(e){e.preventDefault();var t=s(this),e=t.closest(".wc-tabs-wrapper, .woocommerce-tabs");e.find(".wc-tabs, ul.tabs").find("li").removeClass("active"),e.find(".wc-tab, .panel:not(.panel .panel)").hide(),t.closest("li").addClass("active"),e.find(t.attr("href")).show()}).on("click","a.woocommerce-review-link",function(){return s(".reviews_tab a").click(),!0}).on("init","#rating",function(){s("#rating").hide().before('<p class="stars"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>')}).on("click","#respond p.stars a",function(){var e=s(this),t=s(this).closest("#respond").find("#rating"),i=s(this).closest(".stars");return t.val(e.text()),e.siblings("a").removeClass("active"),e.addClass("active"),i.addClass("selected"),!1}).on("click","#respond #submit",function(){var e=s(this).closest("#respond").find("#rating"),t=e.val();if(0<e.length&&!t&&"yes"===wc_single_product_params.review_rating_required)return window.alert(wc_single_product_params.i18n_required_rating_text),!1}),s(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init");function t(e,t){this.$target=e,this.$images=s(".woocommerce-product-gallery__image",e),0!==this.$images.length?(e.data("product_gallery",this),this.flexslider_enabled=s.isFunction(s.fn.flexslider)&&wc_single_product_params.flexslider_enabled,this.zoom_enabled=s.isFunction(s.fn.zoom)&&wc_single_product_params.zoom_enabled,this.photoswipe_enabled="undefined"!=typeof PhotoSwipe&&wc_single_product_params.photoswipe_enabled,t&&(this.flexslider_enabled=!1!==t.flexslider_enabled&&this.flexslider_enabled,this.zoom_enabled=!1!==t.zoom_enabled&&this.zoom_enabled,this.photoswipe_enabled=!1!==t.photoswipe_enabled&&this.photoswipe_enabled),this.initFlexslider=this.initFlexslider.bind(this),this.initZoom=this.initZoom.bind(this),this.initPhotoswipe=this.initPhotoswipe.bind(this),this.onResetSlidePosition=this.onResetSlidePosition.bind(this),this.getGalleryItems=this.getGalleryItems.bind(this),this.openPhotoswipe=this.openPhotoswipe.bind(this),this.flexslider_enabled?(this.initFlexslider(),e.on("woocommerce_gallery_reset_slide_position",this.onResetSlidePosition)):this.$target.css("opacity",1),this.zoom_enabled&&(this.initZoom(),e.on("woocommerce_gallery_init_zoom",this.initZoom)),this.photoswipe_enabled&&this.initPhotoswipe()):this.$target.css("opacity",1)}t.prototype.initFlexslider=function(){var e=this.$images,i=this.$target;i.flexslider({selector:".woocommerce-product-gallery__wrapper > .woocommerce-product-gallery__image",animation:wc_single_product_params.flexslider.animation,smoothHeight:wc_single_product_params.flexslider.smoothHeight,directionNav:wc_single_product_params.flexslider.directionNav,controlNav:wc_single_product_params.flexslider.controlNav,slideshow:wc_single_product_params.flexslider.slideshow,animationSpeed:wc_single_product_params.flexslider.animationSpeed,animationLoop:wc_single_product_params.flexslider.animationLoop,start:function(){i.css("opacity",1);var t=0;e.each(function(){var e=s(this).height();t<e&&(t=e)}),e.each(function(){s(this).css("min-height",t)})}})},t.prototype.initZoom=function(){var e,t=this.$images,i=this.$target.width(),o=!1;this.flexslider_enabled||(t=t.first()),s(t).each(function(e,t){if(s(t).find("img").data("large_image_width")>i)return!(o=!0)}),o&&(e={touch:!1},"ontouchstart"in window&&(e.on="click"),t.trigger("zoom.destroy"),t.zoom(e))},t.prototype.initPhotoswipe=function(){this.zoom_enabled&&0<this.$images.length&&(this.$target.prepend('<a href="#" class="woocommerce-product-gallery__trigger">üîç</a>'),this.$target.on("click",".woocommerce-product-gallery__trigger",this.openPhotoswipe)),this.$target.on("click",".woocommerce-product-gallery__image a",this.openPhotoswipe)},t.prototype.onResetSlidePosition=function(){this.$target.flexslider(0)},t.prototype.getGalleryItems=function(){var e=this.$images,i=[];return 0<e.length&&e.each(function(e,t){t=s(t).find("img"),t={src:t.attr("data-large_image"),w:t.attr("data-large_image_width"),h:t.attr("data-large_image_height"),title:t.attr("title")};i.push(t)}),i},t.prototype.openPhotoswipe=function(e){e.preventDefault();var t=s(".pswp")[0],i=this.getGalleryItems(),e=s(e.target),e=e.is(".woocommerce-product-gallery__trigger")?this.$target.find(".flex-active-slide"):e.closest(".woocommerce-product-gallery__image"),e={index:s(e).index(),shareEl:!1,closeOnScroll:!1,history:!1,hideAnimationDuration:0,showAnimationDuration:0};new PhotoSwipe(t,PhotoSwipeUI_Default,i,e).init()},s.fn.wc_product_gallery=function(e){return new t(this,e),this},s(".woocommerce-product-gallery").each(function(){s(this).wc_product_gallery()})});