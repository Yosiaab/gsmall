!function(a){a.fn.swMenu=function(){return this.each(function(){var e,d,o,t,n,i=a(this);function s(n){d=e,a.when(n.find(".sw-menu > li").appendTo(n)).done(function(){a.when(void n.each(function(){a(this).html(a(this).find(" > li").sort(function(n,i){return a(i).data("index")<a(n).data("index")?1:-1}))})).done(function(){r(n)})})}function r(i){o=i.outerWidth(!0),t=i.find("li.sw-dropdown").outerWidth(!0),i.find(".sw-dropdown > a").removeAttr("href"),i.find('> li:not(".sw-dropdown")').each(function(n){return t+=a(this).outerWidth(!0),o<t?(d=n,function(n){for(x=d;x<=e;x++)n.find(' > li:not(".sw-dropdown")[data-index="'+x+'"]').appendTo(n.find(".sw-menu"))}(i),i.find(".sw-dropdown").show(),!1):void i.find(".sw-dropdown").hide()}),i.css("visibility","visible")}(n=i).wrap("<div class='sw-container'></div>").css("visibility","hidden"),n.find("li.sw-dropdown").length||n.append('<li style="display:none" class="dropdown sw-dropdown"></li>').find("li.sw-dropdown").append('<a href="#" class="item-link"><span class="have-title"><span class="menu-title">'+menu_text.more_text+"</span></span></a>").append('<ul class="dropdown-menu dropdown-menu-center sw-menu"></ul>'),n.find(" > li").each(function(n){a(this).attr("data-index",n)}),e=n.find("> li").length,index=e-1,r(n),a(window).resize(function(){s(i)})})},menu_text.more_menu&&a(".primary-menu ul.nav").swMenu(),a(".footer-mstyle2 ul.menu-footer").swMenu()}(jQuery);